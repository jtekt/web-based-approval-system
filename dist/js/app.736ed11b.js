(function(t){function e(e){for(var i,r,s=e[0],c=e[1],p=e[2],u=0,_=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&_.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(_.length)_.shift()();return o.push.apply(o,p||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={app:0},o=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var p=0;p<s.length;p++)e(s[p]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("64a9"),a=n.n(i);a.a},"1d10":function(t,e,n){},"24ea":function(t,e,n){"use strict";var i=n("77b4"),a=n.n(i);a.a},"3eb0":function(t,e,n){"use strict";var i=n("1d10"),a=n.n(i);a.a},"3f78":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("TopBar",{attrs:{appInfo:"申請マネージャー v0.1"}}),n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/create_application"}},[t._v("Create Application")]),n("router-link",{attrs:{to:"/"}},[t._v("Submitted Applications")]),n("router-link",{attrs:{to:"/received_applications"}},[t._v("Received Applications")])],1),n("router-view")],1)},o=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top_bar"},[n("div",{staticClass:"signature"},[n("img",{staticClass:"logo",attrs:{src:"https://cdn.maximemoreillon.com/logo/logo.svg",alt:""}}),n("div",{staticClass:"application_info"},[n("div",{},[t._v(t._s(t.appInfo))]),n("div",{},[t._v("Maxime MOREILLON")])])]),n("div",{staticClass:"login_info"},[n("div",{},[t._v("Loged in as: "+t._s(t.employee_data.family_name_kanji))]),t._m(0)])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("a",{attrs:{href:"http://authentication.mike.jtekt.maximemoreillon.com/"}},[t._v("Login manager")])])}],c={name:"TopBar",props:{appInfo:String},data:function(){return{employee_data:""}},mounted:function(){var t=this;this.axios.post("http://authentication.mike.jtekt.maximemoreillon.com/personal_information").then((function(e){return t.employee_data=e.data})).catch((function(t){return console.log(t)}))}},p=c,l=(n("92af"),n("2877")),u=Object(l["a"])(p,r,s,!1,null,"5ed841dc",null),_=u.exports,d={components:{TopBar:_}},m=d,f=(n("034f"),Object(l["a"])(m,a,o,!1,null,null,null)),v=f.exports,h=n("8c4f"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[t._v("\n\n  HOME\n\n")])},g=[],y={name:"home",components:{},data:function(){return{}},mounted:function(){},methods:{}},k=y,w=Object(l["a"])(k,b,g,!1,null,"d0711994",null),x=(w.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.create_application()}}},[n("div",{staticClass:"approval_flow_container"},[n("div",{staticClass:"search"},[t.company_structure.length>0?n("div",{staticClass:"corporate_structure_container"},t._l(t.company_structure,(function(e){return n("CorporateStructureNode",{attrs:{node_data:e},on:{select_node:function(e){return t.get_employees_belonging_to_node(e)}}})})),1):t._e(),n("div",{},t._l(t.employees,(function(e){return n("div",{staticClass:"employee",on:{click:function(n){return t.add_to_recipients(e._fields[0].properties)}}},[t._v("\n          "+t._s(e._fields[0].properties.name_kanji)+"\n        ")])})),0)]),n("div",{},[t.recipients.length>0?n("div",{staticClass:"selected_recipients_container"},t._l(t.recipients,(function(e,i){return n("div",{staticClass:"selected_recipient_container"},[n("div",{staticClass:"selected_recipient_details_container"},[n("div",{staticClass:"employee_name"},[t._v(t._s(e.name_kanji))]),n("div",{},[t._v(t._s(e.employee_number))]),n("div",{},[n("button",{attrs:{type:"button"},on:{click:function(e){return t.delete_recipient(i)}}},[t._v("delete")])])]),i<t.recipients.length-1?n("div",{staticClass:"arrow_container"},[t._v(" → ")]):t._e()])})),0):n("div",{},[t._v("\n        No recipients yet\n      ")])])]),n("div",{},[n("label",[t._v("Application type: ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"undefined"}},[t._v("Please select")]),t._l(t.$options.components,(function(e,i){return i!==t.$options.name?n("option",{domProps:{value:i}},[t._v(t._s(i))]):t._e()}))],2)]),"undefined"!==t.type?n("div",{},[n(t.type,{ref:"form",tag:"component"})],1):t._e(),"undefined"!==t.type&&t.recipients.length>0?n("div",[n("input",{attrs:{type:"submit"}})]):t._e()])}),$=[],j=(n("6762"),n("2fdb"),n("ac6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"company_structure_node"},[n("div",{staticClass:"current_node_container"},[t.node_data.children?n("div",{staticClass:"expand_button",on:{click:function(e){t.expanded=!t.expanded}}},[t._v("\n      "+t._s(t.button_text))]):t._e(),n("div",{staticClass:"node_name_container",on:{click:function(e){return t.$emit("select_node",t.node_data.node_id)}}},[t._v("\n      "+t._s(t.node_data.name)+"\n    ")])]),t.expanded?n("div",{staticClass:"children_container"},t._l(t.node_data.children,(function(e){return n("div",[n("div",{staticClass:"children_marker"}),n("CorporateStructureNode",{attrs:{node_data:e},on:{select_node:function(e){return t.$emit("select_node",e)}}})],1)})),0):t._e()])}),C=[],E={name:"CorporateStructureNode",components:{CorporateStructureNode:P},props:{node_data:Object},data:function(){return{expanded:!1}},methods:{},computed:{button_text:function(){return this.expanded?"-":"+"}}},O=E,A=(n("9431"),Object(l["a"])(O,j,C,!1,null,"5cedccf5",null)),P=A.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",[n("tr",[n("td",[t._v("パソコン No.")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form_data.computer_number,expression:"form_data.computer_number"}],attrs:{type:"text"},domProps:{value:t.form_data.computer_number},on:{input:function(e){e.target.composing||t.$set(t.form_data,"computer_number",e.target.value)}}})])]),n("tr",[n("td",[t._v("利用場所持出先")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form_data.destination,expression:"form_data.destination"}],attrs:{type:"text"},domProps:{value:t.form_data.destination},on:{input:function(e){e.target.composing||t.$set(t.form_data,"destination",e.target.value)}}})]),n("tr",[n("td",[t._v("使用目的")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form_data.reason,expression:"form_data.reason"}],attrs:{type:"text"},domProps:{value:t.form_data.reason},on:{input:function(e){e.target.composing||t.$set(t.form_data,"reason",e.target.value)}}})]),n("tr",[n("td",[t._v("持出定日")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form_data.take_out_date,expression:"form_data.take_out_date"}],attrs:{type:"text"},domProps:{value:t.form_data.take_out_date},on:{input:function(e){e.target.composing||t.$set(t.form_data,"take_out_date",e.target.value)}}})]),n("tr",[n("td",[t._v("返却予定日")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form_data.intended_return_date,expression:"form_data.intended_return_date"}],attrs:{type:"text"},domProps:{value:t.form_data.intended_return_date},on:{input:function(e){e.target.composing||t.$set(t.form_data,"intended_return_date",e.target.value)}}})])])])},I=[],N={name:"PcTakeOut",data:function(){return{form_data:{computer_number:"",destination:"",reason:"",take_out_date:"",intended_return_date:""}}}},T=N,D=Object(l["a"])(T,S,I,!1,null,null,null),B=D.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",[n("tr",[n("td",[t._v("Submitted applications")]),n("td",t._l(t.takeout_applications,(function(e){return n("div",{staticClass:"past_takeout_application"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form_data.takeout_application_id,expression:"form_data.takeout_application_id"}],attrs:{type:"radio"},domProps:{value:e._fields[0].identity.low,checked:t._q(t.form_data.takeout_application_id,e._fields[0].identity.low)},on:{change:function(n){return t.$set(t.form_data,"takeout_application_id",e._fields[0].identity.low)}}}),t._l(JSON.parse(e._fields[0].properties.form_data),(function(e,i){return n("div",[t._v("\n            "+t._s(i)+": "+t._s(e)+"\n          ")])})),n("button",{on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.see_application(e._fields[0].identity.low)}}},[t._v("SEE")])],2)})),0)])])])},F=[],M={name:"PcBringBack",data:function(){return{takeout_applications:[],form_data:{takeout_application_id:""}}},mounted:function(){var t=this;this.axios.post("http://172.16.98.151:9723/get_submitted_applications",{}).then((function(e){t.takeout_applications.splice(0,t.takeout_applications.length),e.data.records.forEach((function(e){"PcTakeOut"===e._fields[0].properties.type&&t.takeout_applications.push(e)}))})).catch((function(t){return console.log(t)}))},methods:{see_application:function(t){window.open("http://172.16.98.151:8083/show_application?id="+t)}}},L=M,q=(n("8b8b"),Object(l["a"])(L,R,F,!1,null,"35d0107e",null)),z=q.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",[t._v("Test field")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form_data.test_field,expression:"form_data.test_field"}],attrs:{type:"text"},domProps:{value:t.form_data.test_field},on:{input:function(e){e.target.composing||t.$set(t.form_data,"test_field",e.target.value)}}})])},J=[],Q={name:"TestForm",data:function(){return{form_data:{test_field:""}}}},H=Q,V=Object(l["a"])(H,U,J,!1,null,null,null),X=V.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{ref:"file_input",attrs:{type:"file"},on:{change:function(e){return t.upload_file()}}})])},K=[],W={name:"Report",data:function(){return{form_data:{report_file:""}}},methods:{upload_file:function(){var t=this,e=new FormData;e.append("file_to_upload",this.$refs.file_input.files[0]),this.axios.post("http://webhanko.mike.jtekt.maximemoreillon.com/file_upload",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.form_data.report_file=e.data})).catch((function(t){return console.log(t)}))}}},Y=W,Z=Object(l["a"])(Y,G,K,!1,null,null,null),tt=Z.exports,et={name:"EditApplication",components:{PcTakeOut:B,TestForm:X,Report:tt,PcBringBack:z,CorporateStructureNode:P},data:function(){return{type:"undefined",recipients:[],company_structure:[],employees:[],selected_employee:null}},mounted:function(){this.get_company_structure()},methods:{create_application:function(){var t=this,e=this.$refs.form._data.form_data;this.axios.post("http://webhanko.mike.jtekt.maximemoreillon.com/create_application",{type:this.type,recipients:this.recipients,session_id:this.$store.state.session_id,form_data:e}).then((function(e){return t.$router.push({name:"submitted_applications"})})).catch((function(t){return console.log(t)}))},get_company_structure:function(){var t=this;this.company_structure.splice(0,this.company_structure.length),this.axios.post("http://authentication.mike.jtekt.maximemoreillon.com/get_company_structure",{}).then((function(e){e.data.forEach((function(e){t.company_structure.push(e)}))})).catch((function(t){return console.log(t)}))},get_employees_belonging_to_node:function(t){var e=this;this.axios.post("http://authentication.mike.jtekt.maximemoreillon.com/get_employees_belonging_to_node",{node_id:t}).then((function(t){return e.employees=t.data})).catch((function(t){return console.log(t)}))},delete_recipient:function(t){this.recipients.splice(t,1)},add_to_recipients:function(t){this.recipients.includes(t)||(this.recipients.push(t),t.flow_index=this.recipients.length-1)}}},nt=et,it=(n("24ea"),Object(l["a"])(nt,x,$,!1,null,"fa7278b6",null)),at=it.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.applications.length>0?n("div",{},t._l(t.applications,(function(e){return n("Application",{attrs:{application:e},on:{reload:function(e){return t.get_application()}}})})),1):n("div",[t._v("\n    Application does not exist\n  ")])])},rt=[],st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"application_container"},[n("div",{staticClass:"application_info"},[n("table",[t._m(0),n("tr",[n("td",[t._v("ID")]),n("td",[t._v(t._s(t.application.identity.low))])]),n("tr",[n("td",[t._v("Type")]),n("td",[t._v(t._s(t.application.properties.type))])]),n("tr",[n("td",[t._v("Date")]),n("td",[t._v(t._s(t.application.properties.creation_date))])]),t._m(1),n("tr",[n("td",[t._v("Name")]),n("td",[t._v(t._s(t.application.applicant.properties.name_kanji))])]),n("tr",[n("td",[t._v("Employee number")]),n("td",[t._v(t._s(t.application.applicant.properties.employee_number))])]),t._m(2),t._l(JSON.parse(t.application.properties.form_data),(function(e,i){return n("tr",[n("td",[t._v(t._s(i))]),n("td","report_file"===i?[n("a",{attrs:{href:"http://webhanko.mike.jtekt.maximemoreillon.com/uploads/"+e}},[t._v("download")])]:[t._v(t._s(e))])])})),t._m(3),n("tr",[n("td",{attrs:{colspan:"2"}},[t.application.applicant.properties.employee_number===t.get_employee_number?n("button",{attrs:{type:"button"},on:{click:function(e){return t.delete_application(t.application.identity.low)}}},[t._v("\n            Bye bye!\n          ")]):t._e()])])],2)]),n("div",{staticClass:"inkans_area"},t._l(t.application.submissions,(function(e){return n("InkanBox",{attrs:{submission:e}},[e.approval?n("InkanQR",{attrs:{name:e.recipient.properties.family_name_kanji,date:e.approval.properties.date,approval_id:e.approval.identity.low}}):e.recipient.properties.employee_number===t.get_employee_number?n("div",{},[n("button",{attrs:{type:"button"},on:{click:function(e){return t.approve_application(t.application.identity.low)}}},[t._v("\n          Approve\n        ")]),n("button",{attrs:{type:"button"},on:{click:function(e){return t.disapprove_application(t.application.identity.low)}}},[t._v("\n          disapprove\n        ")])]):t._e()],1)})),1)])},ct=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{attrs:{colspan:"2"}},[t._v("Application info")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{attrs:{colspan:"2"}},[t._v("Applicant info")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{attrs:{colspan:"2"}},[t._v("Form data")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{attrs:{colspan:"2"}},[t._v("Actions")])])}],pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{ref:"svg",attrs:{viewBox:"0 0 100 150"},on:{click:function(e){return t.download()}}},[n("rect",{attrs:{stroke:"#c00000","stroke-width":"2","fill-opacity":"0.0",x:"2%",y:"2%",rx:"10",ry:"10",width:"96%",height:"96%"}}),n("text",{attrs:{fill:"#c00000","text-anchor":"middle","font-family":"monospace, monospace","font-weight":"600","font-size":t.name_font_size,x:"50%",y:"20%"}},[t._v("\n    "+t._s(t.name)+"\n  ")]),n("path",{attrs:{d:t.qr_code_svg,stroke:"#c00000",transform:"\n      scale(3.80952380952)\n      translate(2.625,10.5)\n    "}}),n("line",{attrs:{stroke:"#c00000","stroke-width":"1",x1:"5%",y1:"36",x2:"95%",y2:"36"}}),n("line",{attrs:{stroke:"#c00000","stroke-width":"1",x1:"5%",y1:"125",x2:"95%",y2:"125"}}),n("text",{attrs:{fill:"#c00000","text-anchor":"middle","font-family":"monospace, monospace","font-size":"90%",x:"50%",y:"94%"}},[t._v("\n    "+t._s(String(t.date.year.low).slice(2,4))+"."+t._s(t.date.month.low)+"."+t._s(t.date.day.low)+"\n  ")])])},lt=[],ut=(n("a481"),n("7f7f"),n("6b54"),n("c5f6"),n("d055")),_t=n.n(ut),dt=(n("0132"),{name:"Inkan",props:{name:{type:String,default:"NO NAME"},approval_id:{type:Number,default:1},date:{type:Object,default:{year:{low:2e3},month:{low:1},day:{low:1}}}},data:function(){return{qr_code_svg:""}},mounted:function(){var t=this;_t.a.toString(String(this.approval_id),{margin:0,color:{dark:"#C00000",light:"#0000"}}).then((function(e){var n=new DOMParser,i=n.parseFromString(e,"image/svg+xml");t.qr_code_svg=i.getElementsByTagName("path")[0].getAttribute("d")})).catch((function(t){return console.error(t)}))},computed:{name_font_size:function(){return 55/this.name.length}},methods:{download:function(){if(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>-1)alert("A modern web browser (Chrome, Firefox, Edge, etc.) is required to download Inkans");else{var t=this.$refs.svg,e=document.createElement("canvas");e.width=100;var n=e.getContext("2d"),i=(new XMLSerializer).serializeToString(t),a=window.URL||window.webkitURL||window,o=new Image,r=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),s=a.createObjectURL(r);o.onload=function(){n.drawImage(o,0,0),a.revokeObjectURL(s);var t=e.toDataURL("image/png").replace("image/png","image/octet-stream"),i=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),r=document.createElement("a");r.setAttribute("download","approval_qr.png"),r.setAttribute("href",t),r.setAttribute("target","_blank"),r.dispatchEvent(i)},o.src=s}}}}),mt=dt,ft=(n("ea68"),Object(l["a"])(mt,pt,lt,!1,null,"31cf3dc8",null)),vt=ft.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inkan_box"},[n("div",{staticClass:"inkan_container"},[t._t("default")],2),n("div",{staticClass:"recipient_container"},[t._v("\n    "+t._s(t.submission.recipient.properties.family_name_kanji)+"\n  ")])])},bt=[],gt={name:"InkanBox",props:{submission:Object}},yt=gt,kt=Object(l["a"])(yt,ht,bt,!1,null,"ad4872c2",null),wt=kt.exports,xt={computed:{get_employee_number:function(){return this.$store.state.employee_number}}},$t={name:"Application",components:{InkanQR:vt,InkanBox:wt},mixins:[xt],props:{application:Object},methods:{approve_application:function(t){var e=this;this.axios.post("http://webhanko.mike.jtekt.maximemoreillon.com/approve_application",{application_id:t}).then((function(t){return e.$emit("reload")})).catch((function(t){return console.log(t)}))},disapprove_application:function(t){var e=this;this.axios.post("http://webhanko.mike.jtekt.maximemoreillon.com/disapprove_application",{application_id:t}).then((function(t){return e.$emit("reload")})).catch((function(t){return console.log(t)}))},delete_application:function(t){var e=this;confirm("ホンマ？")&&this.axios.post("http://webhanko.mike.jtekt.maximemoreillon.com/delete_application",{application_id:t}).then((function(t){return e.$emit("reload")})).catch((function(t){return console.log(t)}))}}},jt=$t,Ct=Object(l["a"])(jt,st,ct,!1,null,"3df69cbc",null),Et=Ct.exports,Ot=(n("55dd"),{methods:{parse_application_records:function(t){var e=this;this.applications.splice(0,this.applications.length),t.forEach((function(t){t.getField=function(t){return this._fields[this._fieldLookup[t]]};var n=null;e.applications.forEach((function(e){e.identity.low===t.getField("application").identity.low&&(n=e)})),n||(n=t.getField("application"),e.applications.push(n),n.applicant=t.getField("applicant")),n.submissions||(n.submissions=[]),n.submissions.push({submitted_to:t.getField("submitted_to"),recipient:t.getField("recipient"),approval:t.getField("approval")}),n.submissions.sort((function(t,e){return t.submitted_to.flow_index>e.submitted_to.flow_index?-1:1}))}))}}}),At={name:"ShowApplication",components:{Application:Et},mixins:[Ot],mounted:function(){this.get_application()},data:function(){return{applications:[]}},methods:{get_application:function(){var t=this;this.axios.post("http://webhanko.mike.jtekt.maximemoreillon.com/get_application",{application_id:this.$route.query.id}).then((function(e){t.parse_application_records(e.data.records),console.log(t.applications)})).catch((function(t){return console.log(t)}))}}},Pt=At,St=Object(l["a"])(Pt,ot,rt,!1,null,"756b000c",null),It=St.exports,Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"submitted_applications"},[n("div",{}),n("table",[t._m(0),t._m(1),t._l(t.applications,(function(e){return t.application_is_approved(e)?t._e():n("tr",{staticClass:"application_row",on:{click:function(n){return t.see_application(e.identity.low)}}},[n("td",[t._v(t._s(e.identity.low))]),n("td",[t._v(t._s(e.properties.type))]),n("td",[t._v(t._s(e.properties.creation_date))])])})),t._m(2),t._m(3),t._l(t.applications,(function(e){return t.application_is_approved(e)?n("tr",{staticClass:"application_row",on:{click:function(n){return t.see_application(e.identity.low)}}},[n("td",[t._v(t._s(e.identity.low))]),n("td",[t._v(t._s(e.properties.type))]),n("td",[t._v(t._s(e.properties.creation_date))])]):t._e()}))],2)])},Tt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{staticClass:"category_title",attrs:{colspan:"100%"}},[t._v("Pending applications")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("ID")]),n("th",[t._v("Type")]),n("th",[t._v("Date")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{staticClass:"category_title",attrs:{colspan:"100%"}},[t._v("Approved applications")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("ID")]),n("th",[t._v("Type")]),n("th",[t._v("Date")])])}],Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"application_container"},[n("div",{staticClass:"application_info"},[n("table",[t._m(0),n("tr",[n("td",[t._v("ID")]),n("td",[t._v(t._s(t.application.identity.low))])]),n("tr",[n("td",[t._v("Type")]),n("td",[t._v(t._s(t.application.properties.type))])]),n("tr",[n("td",[t._v("Date")]),n("td",[t._v(t._s(t.application.properties.creation_date))])]),t._m(1),n("tr",[n("td",{attrs:{colspan:"2"}},[n("button",{attrs:{type:"button"},on:{click:function(e){return t.see_application(t.application.identity.low)}}},[t._v("\n            Details\n          ")])])])])]),n("div",{staticClass:"inkans_area"},t._l(t.application.submissions,(function(e){return n("InkanBox",{attrs:{submission:e}},[e.approval?n("InkanQR",{attrs:{name:e.recipient.properties.family_name_kanji,date:e.approval.properties.date,approval_id:e.approval.identity.low}}):t._e()],1)})),1)])},Bt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{attrs:{colspan:"2"}},[t._v("Application info")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{attrs:{colspan:"2"}},[t._v("Actions")])])}],Rt={name:"ApplicationPreview",components:{InkanQR:vt,InkanBox:wt},mixins:[xt],props:{application:Object},methods:{see_application:function(t){this.$router.push({name:"show_application",query:{id:t}})}}},Ft=Rt,Mt=Object(l["a"])(Ft,Dt,Bt,!1,null,"72230bd4",null),Lt=Mt.exports,qt={name:"SubmittedApplications",components:{ApplicationPreview:Lt},mixins:[Ot],data:function(){return{applications:[]}},mounted:function(){this.get_submitted_applications()},methods:{get_submitted_applications:function(){var t=this;this.axios.post("http://webhanko.mike.jtekt.maximemoreillon.com/get_submitted_applications",{}).then((function(e){return t.parse_application_records(e.data.records)})).catch((function(t){return console.log(t)}))},see_application:function(t){this.$router.push({name:"show_application",query:{id:t}})},application_is_approved:function(t){for(var e=0;e<t.submissions.length;e++)if(!t.submissions[e].approval)return!1;return!0}}},zt=qt,Ut=(n("afe6"),Object(l["a"])(zt,Nt,Tt,!1,null,"a3795a36",null)),Jt=Ut.exports,Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"received applications"},[n("div",{staticClass:"submitted_applications"},[n("div",{}),n("table",[t._m(0),t._m(1),t._l(t.applications,(function(e){return t.application_is_approved(e)?t._e():n("tr",{staticClass:"application_row",on:{click:function(n){return t.see_application(e.identity.low)}}},[n("td",[t._v(t._s(e.identity.low))]),n("td",[t._v(t._s(e.properties.type))]),n("td",[t._v(t._s(e.properties.creation_date))])])})),t._m(2),t._m(3),t._l(t.applications,(function(e){return t.application_is_approved(e)?n("tr",{staticClass:"application_row",on:{click:function(n){return t.see_application(e.identity.low)}}},[n("td",[t._v(t._s(e.identity.low))]),n("td",[t._v(t._s(e.properties.type))]),n("td",[t._v(t._s(e.properties.creation_date))])]):t._e()}))],2)])])},Ht=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{staticClass:"category_title",attrs:{colspan:"100%"}},[t._v("Pending applications")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("ID")]),n("th",[t._v("Type")]),n("th",[t._v("Date")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{staticClass:"category_title",attrs:{colspan:"100%"}},[t._v("Approved applications")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("ID")]),n("th",[t._v("Type")]),n("th",[t._v("Date")])])}],Vt={name:"ReceivedApplications",components:{ApplicationPreview:Lt},mixins:[Ot,xt],data:function(){return{applications:[]}},mounted:function(){this.get_received_applications()},methods:{get_received_applications:function(){var t=this;this.applications.splice(0,this.applications.length),this.axios.post("http://webhanko.mike.jtekt.maximemoreillon.com/get_received_applications",{example_data:"hello kojima"}).then((function(e){return t.parse_application_records(e.data)})).catch((function(t){return console.log(t)}))},see_application:function(t){this.$router.push({name:"show_application",query:{id:t}})},application_is_approved:function(t){for(var e=0;e<t.submissions.length;e++){var n=t.submissions[e];if(n.recipient.properties.employee_number===this.get_employee_number&&n.approval)return!0}return!1}},computed:{employee_number:function(){return this.$store.state.employee_number}}},Xt=Vt,Gt=(n("3eb0"),Object(l["a"])(Xt,Qt,Ht,!1,null,"2f3a0258",null)),Kt=Gt.exports;i["a"].use(h["a"]);var Wt=new h["a"]({mode:"history",base:"",routes:[{path:"/create_application",name:"create_application",component:at},{path:"/",name:"submitted_applications",component:Jt},{path:"/received_applications",name:"received_applications",component:Kt},{path:"/show_application",name:"show_application",component:It}]}),Yt=n("2f62");i["a"].use(Yt["a"]);var Zt=new Yt["a"].Store({state:{employee_number:""},mutations:{set_employee_number:function(t,e){t.employee_number=e}},actions:{}}),te=n("bc3a"),ee=n.n(te),ne=n("a7fe"),ie=n.n(ne);ee.a.defaults.withCredentials=!0,ee.a.defaults.crossDomain=!0,i["a"].use(ie.a,ee.a),i["a"].config.productionTip=!1,Wt.beforeEach((function(t,e,n){ee.a.post("http://authentication.mike.jtekt.maximemoreillon.com/status").then((function(t){t.data.logged_in?(Zt.commit("set_employee_number",t.data.employee_number),n()):window.location.href="http://authentication.mike.jtekt.maximemoreillon.com/"})).catch((function(t){return console.log(t)}))})),new i["a"]({router:Wt,store:Zt,render:function(t){return t(v)}}).$mount("#app")},"64a9":function(t,e,n){},"77b4":function(t,e,n){},"8b8b":function(t,e,n){"use strict";var i=n("3f78"),a=n.n(i);a.a},"92af":function(t,e,n){"use strict";var i=n("a3ba"),a=n.n(i);a.a},9431:function(t,e,n){"use strict";var i=n("f7da"),a=n.n(i);a.a},a3ba:function(t,e,n){},afe6:function(t,e,n){"use strict";var i=n("ee8d"),a=n.n(i);a.a},bd45:function(t,e,n){},ea68:function(t,e,n){"use strict";var i=n("bd45"),a=n.n(i);a.a},ee8d:function(t,e,n){},f7da:function(t,e,n){}});
//# sourceMappingURL=app.736ed11b.js.map